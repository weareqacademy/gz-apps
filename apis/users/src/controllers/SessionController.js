'use strict';function _0x30c7(){const _0x2e0cfe=['../database/connection','16373VMRbWz','secret','Invalid\x20password','users','json','compare','where','length','password_hash','39276HyaEFx','240DdqbjJ','users.*','expiresIn','344wDYVGc','7XKEvNX','select','50VsUWSl','144209wlWgoM','2636310THjbEK','store','status','default','../config/auth','4443NhdoYe','defineProperty','1520mcYhEf','412gXKjCF','email','User\x20does\x20not\x20exists','bcrypt','__esModule','1589394UhcchH','8558Pwllmx','sign'];_0x30c7=function(){return _0x2e0cfe;};return _0x30c7();}const _0x35981b=_0x5b1d;(function(_0x4fa3ee,_0x3fc404){const _0x556d09=_0x5b1d,_0x3a4f4c=_0x4fa3ee();while(!![]){try{const _0x37cf99=parseInt(_0x556d09(0x78))/0x1*(parseInt(_0x556d09(0x65))/0x2)+parseInt(_0x556d09(0x6c))/0x3*(parseInt(_0x556d09(0x6f))/0x4)+parseInt(_0x556d09(0x67))/0x5+parseInt(_0x556d09(0x74))/0x6*(-parseInt(_0x556d09(0x86))/0x7)+parseInt(_0x556d09(0x85))/0x8*(-parseInt(_0x556d09(0x81))/0x9)+-parseInt(_0x556d09(0x6e))/0xa*(parseInt(_0x556d09(0x75))/0xb)+-parseInt(_0x556d09(0x82))/0xc*(parseInt(_0x556d09(0x66))/0xd);if(_0x37cf99===_0x3fc404)break;else _0x3a4f4c['push'](_0x3a4f4c['shift']());}catch(_0x128c35){_0x3a4f4c['push'](_0x3a4f4c['shift']());}}}(_0x30c7,0x4860f));function _0x5b1d(_0x2902cb,_0x300a54){const _0x30c7fd=_0x30c7();return _0x5b1d=function(_0x5b1d69,_0x40a5c1){_0x5b1d69=_0x5b1d69-0x65;let _0x1e70e0=_0x30c7fd[_0x5b1d69];return _0x1e70e0;},_0x5b1d(_0x2902cb,_0x300a54);}var __importDefault=this&&this['__importDefault']||function(_0x3c70d2){const _0x1969d9=_0x5b1d;return _0x3c70d2&&_0x3c70d2[_0x1969d9(0x73)]?_0x3c70d2:{'default':_0x3c70d2};};Object[_0x35981b(0x6d)](exports,_0x35981b(0x73),{'value':!![]});const connection_1=__importDefault(require(_0x35981b(0x77))),bcrypt_1=__importDefault(require(_0x35981b(0x72))),jsonwebtoken_1=__importDefault(require('jsonwebtoken')),auth_1=__importDefault(require(_0x35981b(0x6b)));class SessionController{async[_0x35981b(0x68)](_0x3e738a,_0x2f1f03){const _0x5f20a0=_0x35981b,{email:_0x4f0b07,password:_0x520d99}=_0x3e738a['body'],_0x13101c=await connection_1[_0x5f20a0(0x6a)](_0x5f20a0(0x7b))[_0x5f20a0(0x7e)](_0x5f20a0(0x70),'=',_0x4f0b07)[_0x5f20a0(0x87)]([_0x5f20a0(0x83)]);if(_0x13101c[_0x5f20a0(0x7f)]===0x0)return _0x2f1f03[_0x5f20a0(0x69)](0x191)[_0x5f20a0(0x7c)]({'error':_0x5f20a0(0x71)});if(!await bcrypt_1[_0x5f20a0(0x6a)][_0x5f20a0(0x7d)](_0x520d99,_0x13101c[0x0][_0x5f20a0(0x80)]))return _0x2f1f03['status'](0x191)[_0x5f20a0(0x7c)]({'error':_0x5f20a0(0x7a)});const {id:_0x44c4cc}=_0x13101c[0x0];return _0x2f1f03[_0x5f20a0(0x7c)]({'user':_0x13101c[0x0],'token':jsonwebtoken_1[_0x5f20a0(0x6a)][_0x5f20a0(0x76)]({'id':_0x44c4cc},auth_1[_0x5f20a0(0x6a)][_0x5f20a0(0x79)],{'expiresIn':auth_1[_0x5f20a0(0x6a)][_0x5f20a0(0x84)]}),'expires_in':auth_1[_0x5f20a0(0x6a)][_0x5f20a0(0x84)]});}}exports[_0x35981b(0x6a)]=SessionController;