'use strict';const _0x52d4e0=_0x2d5d;(function(_0x111c24,_0x45e72d){const _0x1632e6=_0x2d5d,_0x128cb3=_0x111c24();while(!![]){try{const _0x5d8844=parseInt(_0x1632e6(0x179))/0x1+-parseInt(_0x1632e6(0x19c))/0x2*(-parseInt(_0x1632e6(0x17f))/0x3)+parseInt(_0x1632e6(0x196))/0x4*(parseInt(_0x1632e6(0x175))/0x5)+parseInt(_0x1632e6(0x19f))/0x6+-parseInt(_0x1632e6(0x183))/0x7+parseInt(_0x1632e6(0x17c))/0x8+parseInt(_0x1632e6(0x16d))/0x9*(-parseInt(_0x1632e6(0x190))/0xa);if(_0x5d8844===_0x45e72d)break;else _0x128cb3['push'](_0x128cb3['shift']());}catch(_0x13bb1b){_0x128cb3['push'](_0x128cb3['shift']());}}}(_0x2999,0x20ed0));var __importDefault=this&&this[_0x52d4e0(0x1a1)]||function(_0x47a979){const _0x807a7f=_0x52d4e0;return _0x47a979&&_0x47a979[_0x807a7f(0x184)]?_0x47a979:{'default':_0x47a979};};function _0x2999(){const _0x24432f=['json','commit','454296aVphPe','push','desc','users.id','706055CXyfoc','__esModule','geeks.user_id','transaction','status','update','Cost\x20is\x20required','send','query','Incorrect\x20option\x20for\x20printer\x20repair','Sim','all','Unexpected\x20error\x20while\x20creating\x20new\x20geek','16470fVTMVJ','user_id','join','Unexpected\x20error\x20while\x20removing\x20geek\x20profile','select','../database/connection','856ybBksR','log','limit','Work\x20is\x20required','total','length','2tXUItT','users','printer_repair','461754tRnyoF','id\x20as\x20total','__importDefault','LOWER\x20(geeks.desc)\x20LIKE\x20\x27%\x27\x20||\x20LOWER\x20(?)\x20||\x20\x27%\x27','rollback','Printer\x20repair\x20is\x20required.','where','2277eFhqCh','store','whereRaw','Whatsapp\x20is\x20required','count','Unexpected\x20error\x20while\x20updating\x20class','geeks.*','users.*','2630cZQpbL','index','default','remove','233516yznWos','body','geeks','623592fTlbgX'];_0x2999=function(){return _0x24432f;};return _0x2999();}Object['defineProperty'](exports,_0x52d4e0(0x184),{'value':!![]});function _0x2d5d(_0x184992,_0x4c8bd2){const _0x2999a2=_0x2999();return _0x2d5d=function(_0x2d5d75,_0xde807f){_0x2d5d75=_0x2d5d75-0x16c;let _0xe35acd=_0x2999a2[_0x2d5d75];return _0xe35acd;},_0x2d5d(_0x184992,_0x4c8bd2);}const connection_1=__importDefault(require(_0x52d4e0(0x195)));class GeeksController{async[_0x52d4e0(0x176)](_0x539f88,_0x1b7de3){const _0x48d54a=_0x52d4e0,_0x1af25d=_0x539f88[_0x48d54a(0x18b)],{page:page=0x1}=_0x539f88[_0x48d54a(0x18b)];let _0x2fe6e4=_0x1af25d[_0x48d54a(0x19e)],_0x1ddade=_0x1af25d[_0x48d54a(0x181)];if(_0x1ddade==null)_0x1ddade='';if(_0x2fe6e4==null)_0x2fe6e4='';const _0x272199=await connection_1[_0x48d54a(0x177)](_0x48d54a(0x17b))[_0x48d54a(0x192)](_0x48d54a(0x19d),_0x48d54a(0x185),'=',_0x48d54a(0x182))[_0x48d54a(0x194)]([_0x48d54a(0x173),_0x48d54a(0x174)])['whereRaw'](_0x48d54a(0x1a2),_0x1ddade)[_0x48d54a(0x16f)]('LOWER\x20(geeks.printer_repair)\x20LIKE\x20\x27%\x27\x20||\x20LOWER\x20(?)\x20||\x20\x27%\x27',_0x2fe6e4)[_0x48d54a(0x198)](0xa)['offset']((Number(page)-0x1)*0xa),_0x3fed74=await connection_1['default'](_0x48d54a(0x17b))[_0x48d54a(0x171)](_0x48d54a(0x1a0)),_0x2a6f77=await Promise[_0x48d54a(0x18e)](_0x272199);return _0x1b7de3[_0x48d54a(0x17d)]({'Geeks':_0x2a6f77,'Count':_0x3fed74[0x0][_0x48d54a(0x19a)]});}async[_0x52d4e0(0x188)](_0x478a1b,_0x2d6ee8){const _0x3e4614=_0x52d4e0,{work:_0xa1346c,cost:_0x36d780,printer_repair:_0x3725e3,desc:_0x2c46dd}=_0x478a1b[_0x3e4614(0x17a)],_0x5ccc25=_0x478a1b['id'],_0x37c6f2=await connection_1[_0x3e4614(0x177)][_0x3e4614(0x186)]();try{return await _0x37c6f2(_0x3e4614(0x17b))[_0x3e4614(0x16c)](_0x3e4614(0x191),_0x5ccc25)['update']({'desc':_0x2c46dd,'printer_repair':_0x3725e3,'work':_0xa1346c,'cost':_0x36d780}),await _0x37c6f2(_0x3e4614(0x17b))[_0x3e4614(0x16c)]('user_id',_0x5ccc25),await _0x37c6f2['commit'](),_0x2d6ee8[_0x3e4614(0x187)](0xc8)[_0x3e4614(0x18a)]();}catch(_0x43f2e7){return console[_0x3e4614(0x197)](_0x43f2e7),await _0x37c6f2[_0x3e4614(0x1a3)](),_0x2d6ee8[_0x3e4614(0x187)](0x190)[_0x3e4614(0x17d)]({'error':_0x3e4614(0x172)});}}async[_0x52d4e0(0x16e)](_0x23d52a,_0x21363e){const _0x160baa=_0x52d4e0,{whatsapp:_0x23d6dc,desc:_0x59d7ce,printer_repair:_0x2f186b,work:_0x248ea5,cost:_0x1310af}=_0x23d52a[_0x160baa(0x17a)],_0x3fea0d=_0x23d52a['id'];let _0x20638f=[];if(!_0x23d6dc||_0x23d6dc[_0x160baa(0x19b)]<=0x0)_0x20638f[_0x160baa(0x180)](_0x160baa(0x170));if(!_0x59d7ce||_0x59d7ce[_0x160baa(0x19b)]<=0x0)_0x20638f['push']('Description\x20is\x20required');if(!_0x2f186b||_0x2f186b[_0x160baa(0x19b)]<=0x0)_0x20638f['push'](_0x160baa(0x1a4));if(![_0x160baa(0x18d),'NÃ£o']['includes'](_0x2f186b))_0x20638f[_0x160baa(0x180)](_0x160baa(0x18c));if(!_0x248ea5||_0x248ea5[_0x160baa(0x19b)]<=0x0)_0x20638f[_0x160baa(0x180)](_0x160baa(0x199));if(!_0x1310af||_0x1310af[_0x160baa(0x19b)]<=0x0)_0x20638f['push'](_0x160baa(0x189));if(_0x20638f[_0x160baa(0x19b)]>0x0)return _0x21363e[_0x160baa(0x187)](0x190)[_0x160baa(0x17d)]({'errors':_0x20638f});const _0x5570d8=await connection_1[_0x160baa(0x177)][_0x160baa(0x186)]();try{await _0x5570d8('users')[_0x160baa(0x16c)]('id',_0x3fea0d)[_0x160baa(0x188)]({'is_geek':!![],'whatsapp':_0x23d6dc}),await _0x5570d8(_0x160baa(0x17b))['where']('user_id',_0x3fea0d)['del']();const _0x153a82=await _0x5570d8(_0x160baa(0x19d))['where']('id',_0x3fea0d)['first']();return await _0x5570d8(_0x160baa(0x17b))['insert']({'user_id':_0x3fea0d,'desc':_0x59d7ce,'printer_repair':_0x2f186b,'work':_0x248ea5,'cost':_0x1310af})['returning']('id'),await _0x5570d8['commit'](),_0x21363e[_0x160baa(0x187)](0xc9)[_0x160baa(0x18a)]();}catch(_0x1dc1d3){return console[_0x160baa(0x197)](_0x1dc1d3),await _0x5570d8[_0x160baa(0x1a3)](),_0x21363e[_0x160baa(0x187)](0x190)[_0x160baa(0x17d)]({'error':_0x160baa(0x18f)});}}async[_0x52d4e0(0x178)](_0x9aea05,_0x423527){const _0x38d502=_0x52d4e0,_0x351270=_0x9aea05['id'],_0x233a02=await connection_1['default'][_0x38d502(0x186)]();try{return await _0x233a02('geeks')[_0x38d502(0x16c)](_0x38d502(0x191),_0x351270)['del'](),await _0x233a02(_0x38d502(0x19d))[_0x38d502(0x16c)]('id',_0x351270)[_0x38d502(0x188)]({'is_geek':![]}),await _0x233a02[_0x38d502(0x17e)](),_0x423527[_0x38d502(0x187)](0xcc)[_0x38d502(0x18a)]();}catch(_0x4e1c00){return console['log'](_0x4e1c00),await _0x233a02[_0x38d502(0x1a3)](),_0x423527['status'](0x190)[_0x38d502(0x17d)]({'error':_0x38d502(0x193)});}}}exports['default']=GeeksController;